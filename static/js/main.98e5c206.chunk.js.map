{"version":3,"sources":["pages/Reader/Reader.module.css","components/Publication/Publication.module.css","components/App/App.module.css","components/Publication/Publication.jsx","components/Controls/Controls.jsx","pages/Reader/Reader.jsx","components/App/App.jsx","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Publication","title","text","id","className","styles","publication","key","length","slice","Controls","onClick","index","controls","type","value","name","button","disabled","Reader","state","items","itemsList","currentPage","handleClick","target","setState","props","this","location","history","item","queryString","parse","search","push","pathname","prevProps","prevState","reader","counter","Component","App","path","component","to","exact","from","ReactDOM","render","basename","document","getElementById"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,0B,ukgBCA5DD,EAAOC,QAAU,CAAC,YAAc,mC,4ECAhCD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,WAAW,sBAAsB,gBAAgB,2BAA2B,aAAa,wBAAwB,WAAW,wB,6LCoBtJC,EAjBK,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAMC,EAAhB,EAAgBA,GAAhB,OAClB,6BAASC,UAAWC,IAAOC,YAAaC,IAAKJ,GAC3C,4BAAKF,GACJC,EAAKM,OAAS,IACb,qCAAON,EAAKO,MAAM,EAAG,KAArB,QAEA,qCAAOP,M,gBCwBEQ,EA9BE,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,MAAZ,OACf,6BAASR,UAAWC,IAAOQ,UACzB,4BACEC,KAAK,SACLC,MAAM,WACNC,KAAK,WACLZ,UAAWC,IAAOY,OAClBN,QAASA,EACTO,UAAWN,GANb,YAUA,4BACEE,KAAK,SACLC,MAAM,OACNC,KAAK,OACLZ,UAAWC,IAAOY,OAClBN,QAASA,EACTO,SAAoB,KAAVN,GANZ,U,iBCNiBO,E,2MACnBC,MAAQ,CACNC,MAAOC,EACPC,YAAa,G,EAoCfC,YAAc,YAEC,aAFe,EAAbC,OACPT,KAEN,EAAKU,UAAS,SAAAN,GAAK,MAAK,CACtBG,YAAaH,EAAMG,YAAc,MAGnC,EAAKG,UAAS,SAAAN,GAAK,MAAK,CACtBG,YAAaH,EAAMG,YAAc,O,mFAzClB,IAREI,EAQH,EACYC,KAAKD,MAA3BE,EADU,EACVA,SAAUC,EADA,EACAA,QACZC,GAVeJ,EAUSC,KAAKD,MAVLK,IAAYC,MAAMN,EAAME,SAASK,QAAQH,MAWvE,OAAKA,EAMEH,KAAKF,SAAS,CACnBH,YAAaQ,EAAO,IANbD,EAAQK,KAAK,CAClBC,SAAUP,EAASO,SACnBF,OAAO,a,yCAQMG,EAAWC,GAAY,IAAD,EACTV,KAAKD,MAA3BE,EAD+B,EAC/BA,SAAUC,EADqB,EACrBA,QACVP,EAAgBK,KAAKR,MAArBG,YAEJA,IAAgBe,EAAUf,cACxBe,EAAUf,YACZO,EAAQK,KAAK,CACXC,SAAUP,EAASO,SACnBF,OAAO,QAAD,OAAUX,EAAc,Q,+BAwB5B,IACAA,EAAgBK,KAAKR,MAArBG,YACFX,EAAQW,EAAc,EAEtBjB,EADYsB,KAAKR,MAAfC,MAER,OACE,yBAAKjB,UAAWC,IAAOkC,QACrB,kBAAC,EAAD,CACEtC,MAAOK,EAAYiB,GAAatB,MAChCC,KAAMI,EAAYiB,GAAarB,KAC/BC,GAAIG,EAAYiB,GAAapB,KAE/B,uBAAGC,UAAWC,IAAOmC,SAArB,UAAkC5B,EAAlC,QACA,kBAAC,EAAD,CAAUD,QAASiB,KAAKJ,YAAaZ,MAAOW,S,GAjEhBkB,aCKrBC,EAVH,kBACV,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,UAAUC,UAAWzB,IACjC,kBAAC,IAAD,CAAOwB,KAAK,eACV,kBAAC,IAAD,CAAUE,GAAG,UAAUD,UAAWzB,KAEpC,kBAAC,IAAD,CAAU2B,OAAK,EAACC,KAAK,IAAIF,GAAG,UAAUD,UAAWzB,MCLrD6B,IAASC,OACP,kBAAC,IAAD,CAAYC,SAAS,KACnB,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,kBCT1BtD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,4B","file":"static/js/main.98e5c206.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3SFRy\",\"counter\":\"Reader_counter__3nc41\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__tkAzx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3DpRi\",\"App-logo\":\"App_App-logo__T4Kv5\",\"App-logo-spin\":\"App_App-logo-spin__3DBEY\",\"App-header\":\"App_App-header__2F5gC\",\"App-link\":\"App_App-link__3uopH\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ title, text, id }) => (\n  <article className={styles.publication} key={id}>\n    <h2>{title}</h2>\n    {text.length > 1000 ? (\n      <p>{`${text.slice(0, 1000)}...`}</p>\n    ) : (\n      <p>{`${text}`}</p>\n    )}\n  </article>\n);\n\nPublication.propTypes = {\n  title: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ onClick, index }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      value=\"previous\"\n      name=\"previous\"\n      className={styles.button}\n      onClick={onClick}\n      disabled={!index}\n    >\n      Previous\n    </button>\n    <button\n      type=\"button\"\n      value=\"next\"\n      name=\"next\"\n      className={styles.button}\n      onClick={onClick}\n      disabled={index === 11}\n    >\n      Next\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  index: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport itemsList from '../../db/publications.json';\nimport Publication from '../../components/Publication/Publication';\nimport Controls from '../../components/Controls/Controls';\nimport styles from './Reader.module.css';\n\nconst getItemFromProps = props => queryString.parse(props.location.search).item;\n\nexport default class Reader extends Component {\n  state = {\n    items: itemsList,\n    currentPage: 0,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const item = getItemFromProps(this.props);\n    if (!item) {\n      return history.push({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n    return this.setState({\n      currentPage: item - 1,\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { location, history } = this.props;\n    const { currentPage } = this.state;\n\n    if (currentPage !== prevState.currentPage) {\n      if (prevState.currentPage < currentPage) {\n        history.push({\n          pathname: location.pathname,\n          search: `item=${currentPage + 1}`,\n        });\n      } else {\n        history.push({\n          pathname: location.pathname,\n          search: `item=${currentPage + 1}`,\n        });\n      }\n    }\n  }\n\n  handleClick = ({ target }) => {\n    const { name } = target;\n    if (name === 'previous') {\n      this.setState(state => ({\n        currentPage: state.currentPage - 1,\n      }));\n    } else {\n      this.setState(state => ({\n        currentPage: state.currentPage + 1,\n      }));\n    }\n  };\n\n  render() {\n    const { currentPage } = this.state;\n    const index = currentPage + 1;\n    const { items } = this.state;\n    const publication = items;\n    return (\n      <div className={styles.reader}>\n        <Publication\n          title={publication[currentPage].title}\n          text={publication[currentPage].text}\n          id={publication[currentPage].id}\n        />\n        <p className={styles.counter}>{`${index}/12`}</p>\n        <Controls onClick={this.handleClick} index={currentPage} />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport './App.module.css';\nimport Reader from '../../pages/Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Route path=\"/:somewhere\">\n      <Redirect to=\"/reader\" component={Reader} />\n    </Route>\n    <Redirect exact from=\"/\" to=\"/reader\" component={Reader} />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1EstX\",\"button\":\"Controls_button__24r27\"};"],"sourceRoot":""}